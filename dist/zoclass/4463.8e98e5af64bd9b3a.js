"use strict";(self.webpackChunkzoclass=self.webpackChunkzoclass||[]).push([[4463],{84463:(Y,c,r)=>{r.r(c),r.d(c,{StudentLoginModule:()=>y});var h=r(36895),g=r(89299),i=r(24006),t=r(94650),Z=r(60494),S=r(73716),x=r(64371),T=r(462),C=r(4859),d=r(59549),_=r(44144);function A(n,a){1&n&&(t.TgZ(0,"mat-hint",14),t._uU(1,"Username is required."),t.qZA())}function L(n,a){1&n&&(t.TgZ(0,"mat-hint",14),t._uU(1," Username must be at least 3 characters long. "),t.qZA())}function b(n,a){1&n&&(t.TgZ(0,"mat-hint",14),t._uU(1," Username can't be more than 20 characters long. "),t.qZA())}function M(n,a){1&n&&(t.TgZ(0,"mat-hint",14),t._uU(1," Only alphanumeric characters and underscore are allowed. "),t.qZA())}function U(n,a){1&n&&(t.TgZ(0,"mat-hint",14),t._uU(1,"Password is required."),t.qZA())}function F(n,a){1&n&&(t.TgZ(0,"mat-hint",14),t._uU(1," Password must be at least 6 characters long. "),t.qZA())}function I(n,a){1&n&&(t.TgZ(0,"mat-hint",14),t._uU(1," Password can't be more than 30 characters long. "),t.qZA())}const O=[{path:"",component:(()=>{class n{constructor(o,e,l,s,u){this.fb=o,this.router=e,this.studentAuthService=l,this.adminAuthService=s,this.teacherAuthService=u,this.errorMsg="",this.loginForm=this.fb.group({email:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(20),i.kI.pattern(/^[a-zA-Z0-9_]+$/)]],password:["",[i.kI.required,i.kI.minLength(6),i.kI.maxLength(30)]]})}ngOnInit(){}login(){if(this.loginForm.valid){if(this.adminAuthService.getAccessToken()||this.teacherAuthService.getAccessToken())return void(this.errorMsg="Login not valid,you are already logged in another account !");this.studentAuthService.login(this.loginForm.value).subscribe(o=>{if(o){const l=o.refreshToken;this.studentAuthService.storeAccessToken(o.accessToken),this.studentAuthService.storeRefreshToken(l),this.router.navigate(["/student/dashboard"],{replaceUrl:!0})}},o=>{this.errorMsg=o.error.errorMsg})}}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(i.qu),t.Y36(g.F0),t.Y36(Z.N),t.Y36(S.Y),t.Y36(x.J))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-login"]],decls:37,vars:10,consts:[[1,"login"],[1,"row"],[1,"col-12","col-lg-5","offset-lg-3","login-card"],[1,"col-12","col-lg-10","offset-lg-1"],[1,"col-12"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","text","formControlName","email"],["class","form-text text-danger",4,"ngIf"],["matInput","","type","password","formControlName","password"],["type","submit","mat-raised-button","",1,"submit-button",3,"disabled"],[2,"margin-top","15px"],["href","/student/forgot"],["routerLink","/student/signup"],[1,"form-text","text-danger"]],template:function(o,e){if(1&o&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",1)(5,"div",3)(6,"h3"),t._uU(7,"Student Login"),t.qZA(),t.TgZ(8,"div",4)(9,"h2"),t._uU(10),t.qZA(),t.TgZ(11,"form",5),t.NdJ("ngSubmit",function(){return e.login()}),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Username"),t.qZA(),t._UZ(15,"input",7),t.YNc(16,A,2,0,"mat-hint",8),t.YNc(17,L,2,0,"mat-hint",8),t.YNc(18,b,2,0,"mat-hint",8),t.YNc(19,M,2,0,"mat-hint",8),t.qZA(),t.TgZ(20,"mat-form-field",6)(21,"mat-label"),t._uU(22,"Password"),t.qZA(),t._UZ(23,"input",9),t.YNc(24,U,2,0,"mat-hint",8),t.YNc(25,F,2,0,"mat-hint",8),t.YNc(26,I,2,0,"mat-hint",8),t.qZA(),t.TgZ(27,"button",10),t._uU(28,"Login"),t.qZA()(),t.TgZ(29,"p",11),t._uU(30,"Forgot username or password? "),t.TgZ(31,"a",12),t._uU(32,"Reset here"),t.qZA()(),t.TgZ(33,"p"),t._uU(34,"Don't have an account yet? "),t.TgZ(35,"a",13),t._uU(36,"Register now"),t.qZA()()()()()()()()),2&o){let l,s,u,p,m,f,v;t.xp6(10),t.Oqu(e.errorMsg),t.xp6(1),t.Q6J("formGroup",e.loginForm),t.xp6(5),t.Q6J("ngIf",(null==(l=e.loginForm.get("email"))?null:l.hasError("required"))&&(null==(l=e.loginForm.get("email"))?null:l.touched)),t.xp6(1),t.Q6J("ngIf",null==(s=e.loginForm.get("email"))?null:s.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(u=e.loginForm.get("email"))?null:u.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",null==(p=e.loginForm.get("email"))?null:p.hasError("pattern")),t.xp6(5),t.Q6J("ngIf",(null==(m=e.loginForm.get("password"))?null:m.hasError("required"))&&(null==(m=e.loginForm.get("password"))?null:m.touched)),t.xp6(1),t.Q6J("ngIf",null==(f=e.loginForm.get("password"))?null:f.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(v=e.loginForm.get("password"))?null:v.hasError("maxlength")),t.xp6(1),t.Q6J("disabled",!e.loginForm.valid)}},dependencies:[h.O5,g.yS,T.G,C.lW,d.KE,d.bx,d.hX,_.Nt,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".login[_ngcontent-%COMP%]{background-color:#fff;padding-top:10vh;padding-left:2%;padding-right:2%}.login-card[_ngcontent-%COMP%]{background-color:#fff;padding-top:5vh;padding-bottom:5vh;box-shadow:none}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}h3[_ngcontent-%COMP%]{color:#4e4caacd;padding-bottom:2vh;letter-spacing:.6px;font-size:18px;font-weight:500;margin-bottom:5px;text-align:center}h2[_ngcontent-%COMP%]{color:#e4409a;font-size:16px;letter-spacing:.5px}p[_ngcontent-%COMP%]{color:#4e4caac1;margin-top:2vh;letter-spacing:.25px;font-size:16px;margin-bottom:5px}a[_ngcontent-%COMP%]{color:#4e4caac1;font-size:16px;font-weight:500;letter-spacing:.25px;text-decoration:none}.success-message[_ngcontent-%COMP%]{color:#16b978;font-size:20px}@media (min-width:1200px){.login[_ngcontent-%COMP%]{min-height:90vh;padding-top:5vh;background-color:#64748d15;padding-left:2%;padding-right:2%}.login-card[_ngcontent-%COMP%]{margin-top:2vh;margin-left:30%;margin-bottom:10vh;border-radius:15px;border:1px solid rgba(218,218,224,.858)}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:48px;margin-bottom:15px}}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(O),g.Bz]}),n})();var J=r(11160);let y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.ez,P,J.S]}),n})()}}]);