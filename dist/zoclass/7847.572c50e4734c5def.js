"use strict";(self.webpackChunkzoclass=self.webpackChunkzoclass||[]).push([[7847],{77847:(Y,u,i)=>{i.r(u),i.d(u,{AdminLoginModule:()=>S});var h=i(36895),l=i(89299),r=i(24006),n=i(94650),v=i(60494),Z=i(73716),x=i(64371),T=i(462),C=i(4859),c=i(59549),_=i(44144);function L(t,a){1&t&&(n.TgZ(0,"mat-hint",14),n._uU(1,"Username is required."),n.qZA())}function b(t,a){1&t&&(n.TgZ(0,"mat-hint",14),n._uU(1," Username must be at least 6 characters long. "),n.qZA())}function M(t,a){1&t&&(n.TgZ(0,"mat-hint",14),n._uU(1," Username can't be more than 30 characters long. "),n.qZA())}function U(t,a){1&t&&(n.TgZ(0,"mat-hint",14),n._uU(1," Only alphanumeric characters and underscore are allowed. "),n.qZA())}function F(t,a){1&t&&(n.TgZ(0,"mat-hint",14),n._uU(1,"Password is required."),n.qZA())}function I(t,a){1&t&&(n.TgZ(0,"mat-hint",14),n._uU(1," Password must be at least 6 characters long. "),n.qZA())}function O(t,a){1&t&&(n.TgZ(0,"mat-hint",14),n._uU(1," Password can't be more than 30 characters long. "),n.qZA())}const P=[{path:"",component:(()=>{class t{constructor(e,o,m,g,s){this.fb=e,this.router=o,this.studentAuthService=m,this.adminAuthService=g,this.teacherAuthService=s,this.errorMsg="",this.loginForm=this.fb.group({email:["",[r.kI.required,r.kI.minLength(6),r.kI.maxLength(30),r.kI.pattern(/^[a-zA-Z0-9_]+$/)]],password:["",[r.kI.required,r.kI.minLength(6),r.kI.maxLength(30)]]})}ngOnInit(){}login(){if(this.loginForm.valid){if(this.studentAuthService.getAccessToken()||this.teacherAuthService.getAccessToken())return void(this.errorMsg="Login not valid,you are already logged in another account !");this.adminAuthService.login(this.loginForm.value).subscribe(e=>{if(e){const m=e.refreshToken;this.adminAuthService.storeAccessToken(e.accessToken),this.adminAuthService.storeRefreshToken(m),this.router.navigate(["/admin/dashboard"],{replaceUrl:!0})}},e=>{this.errorMsg=e.error.errorMsg})}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(r.qu),n.Y36(l.F0),n.Y36(v.N),n.Y36(Z.Y),n.Y36(x.J))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-admin-login"]],decls:37,vars:10,consts:[[1,"login"],[1,"row"],[1,"col-12","col-lg-5","offset-lg-3","login-card"],[1,"col-12","col-lg-10","offset-lg-1"],[1,"col-12"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","text","formControlName","email"],["class","form-text text-danger",4,"ngIf"],["matInput","","type","password","formControlName","password"],["type","submit","mat-raised-button","",1,"submit-button",3,"disabled"],[2,"margin-top","15px"],["href","/admin/forgot"],["routerLink","/admin/signup"],[1,"form-text","text-danger"]],template:function(e,o){if(1&e&&(n._UZ(0,"app-header"),n.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",1)(5,"div",3)(6,"h3"),n._uU(7,"Admin Login"),n.qZA(),n.TgZ(8,"div",4)(9,"h2"),n._uU(10),n.qZA(),n.TgZ(11,"form",5),n.NdJ("ngSubmit",function(){return o.login()}),n.TgZ(12,"mat-form-field",6)(13,"mat-label"),n._uU(14,"Username"),n.qZA(),n._UZ(15,"input",7),n.YNc(16,L,2,0,"mat-hint",8),n.YNc(17,b,2,0,"mat-hint",8),n.YNc(18,M,2,0,"mat-hint",8),n.YNc(19,U,2,0,"mat-hint",8),n.qZA(),n.TgZ(20,"mat-form-field",6)(21,"mat-label"),n._uU(22,"Password"),n.qZA(),n._UZ(23,"input",9),n.YNc(24,F,2,0,"mat-hint",8),n.YNc(25,I,2,0,"mat-hint",8),n.YNc(26,O,2,0,"mat-hint",8),n.qZA(),n.TgZ(27,"button",10),n._uU(28,"Login"),n.qZA()(),n.TgZ(29,"p",11),n._uU(30,"Forgot username or password? "),n.TgZ(31,"a",12),n._uU(32,"Reset here"),n.qZA()(),n.TgZ(33,"p"),n._uU(34,"Don't have an account yet? "),n.TgZ(35,"a",13),n._uU(36,"Register now"),n.qZA()()()()()()()()),2&e){let m,g,s,p,d,f,A;n.xp6(10),n.Oqu(o.errorMsg),n.xp6(1),n.Q6J("formGroup",o.loginForm),n.xp6(5),n.Q6J("ngIf",(null==(m=o.loginForm.get("email"))?null:m.hasError("required"))&&(null==(m=o.loginForm.get("email"))?null:m.touched)),n.xp6(1),n.Q6J("ngIf",null==(g=o.loginForm.get("email"))?null:g.hasError("minlength")),n.xp6(1),n.Q6J("ngIf",null==(s=o.loginForm.get("email"))?null:s.hasError("maxlength")),n.xp6(1),n.Q6J("ngIf",null==(p=o.loginForm.get("email"))?null:p.hasError("pattern")),n.xp6(5),n.Q6J("ngIf",(null==(d=o.loginForm.get("password"))?null:d.hasError("required"))&&(null==(d=o.loginForm.get("password"))?null:d.touched)),n.xp6(1),n.Q6J("ngIf",null==(f=o.loginForm.get("password"))?null:f.hasError("minlength")),n.xp6(1),n.Q6J("ngIf",null==(A=o.loginForm.get("password"))?null:A.hasError("maxlength")),n.xp6(1),n.Q6J("disabled",!o.loginForm.valid)}},dependencies:[h.O5,l.yS,T.G,C.lW,c.KE,c.bx,c.hX,_.Nt,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".login[_ngcontent-%COMP%]{background-color:#fff;padding-top:10vh;padding-left:2%;padding-right:2%}.login-card[_ngcontent-%COMP%]{background-color:#fff;padding-top:5vh;padding-bottom:5vh;box-shadow:none}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}h3[_ngcontent-%COMP%]{color:#4e4caacd;padding-bottom:2vh;letter-spacing:.6px;font-size:18px;font-weight:500;margin-bottom:5px;text-align:center}h2[_ngcontent-%COMP%]{color:#e4409a;font-size:16px;letter-spacing:.5px}p[_ngcontent-%COMP%]{color:#4e4caac1;margin-top:2vh;letter-spacing:.25px;font-size:16px;margin-bottom:5px}a[_ngcontent-%COMP%]{color:#4e4caac1;font-size:16px;font-weight:500;letter-spacing:.25px;text-decoration:none}.success-message[_ngcontent-%COMP%]{color:#16b978;font-size:20px}@media (min-width:1200px){.login[_ngcontent-%COMP%]{min-height:90vh;padding-top:5vh;background-color:#64748d15;padding-left:2%;padding-right:2%}.login-card[_ngcontent-%COMP%]{margin-top:2vh;margin-left:30%;margin-bottom:10vh;border-radius:15px;border:1px solid rgba(218,218,224,.858)}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:48px;margin-bottom:15px}}"]}),t})()}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[l.Bz.forChild(P),l.Bz]}),t})();var y=i(11160);let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[h.ez,J,y.S]}),t})()}}]);