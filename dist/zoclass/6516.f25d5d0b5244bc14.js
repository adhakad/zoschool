"use strict";(self.webpackChunkzoclass=self.webpackChunkzoclass||[]).push([[6516],{26516:(X,p,a)=>{a.r(p),a.d(p,{StudentForgotModule:()=>H});var c=a(36895),d=a(89299),i=a(24006),t=a(94650),h=a(22759),v=a(60494),x=a(462),F=a(3238),Z=a(4859),g=a(59549),T=a(44144),b=a(84385),S=a(88789);function C(e,n){if(1&e&&(t.TgZ(0,"div")(1,"mat-option",14),t._uU(2),t.ALo(3,"classSuffix"),t.qZA()()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("value",o.class),t.xp6(1),t.Oqu(t.lcZ(3,2,o.class))}}function I(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1,"Class is required."),t.qZA())}function y(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," Class must be a numeric value. "),t.qZA())}function A(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1,"Roll number is required."),t.qZA())}function q(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," Roll number can't be more than 8 characters long. "),t.qZA())}function N(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," Roll number should contain only numbers. "),t.qZA())}function U(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"form",7),t.NdJ("ngSubmit",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.studentVarify())}),t.TgZ(1,"mat-form-field",8)(2,"mat-label"),t._uU(3,"Select class name"),t.qZA(),t.TgZ(4,"mat-select",9),t.YNc(5,C,4,4,"div",10),t.qZA(),t.YNc(6,I,2,0,"mat-hint",11),t.YNc(7,y,2,0,"mat-hint",11),t.qZA(),t.TgZ(8,"mat-form-field",8)(9,"mat-label"),t._uU(10,"Roll number"),t.qZA(),t._UZ(11,"input",12),t.YNc(12,A,2,0,"mat-hint",11),t.YNc(13,q,2,0,"mat-hint",11),t.YNc(14,N,2,0,"mat-hint",11),t.qZA(),t.TgZ(15,"button",13),t._uU(16,"Varify"),t.qZA()()}if(2&e){const o=t.oxw(2);let r,s,m,u,l;t.Q6J("formGroup",o.varifyForm),t.xp6(5),t.Q6J("ngForOf",o.classInfo),t.xp6(1),t.Q6J("ngIf",(null==(r=o.varifyForm.get("class"))?null:r.hasError("required"))&&(null==(r=o.varifyForm.get("class"))?null:r.touched)),t.xp6(1),t.Q6J("ngIf",null==(s=o.varifyForm.get("class"))?null:s.hasError("pattern")),t.xp6(5),t.Q6J("ngIf",(null==(m=o.varifyForm.get("rollNumber"))?null:m.hasError("required"))&&(null==(m=o.varifyForm.get("rollNumber"))?null:m.touched)),t.xp6(1),t.Q6J("ngIf",null==(u=o.varifyForm.get("rollNumber"))?null:u.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",null==(l=o.varifyForm.get("rollNumber"))?null:l.hasError("pattern")),t.xp6(1),t.Q6J("disabled",!o.varifyForm.valid)}}function J(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"div",1)(2,"div",4)(3,"h3"),t._uU(4,"Student Varification"),t.qZA(),t.TgZ(5,"div",5)(6,"h2"),t._uU(7),t.qZA(),t.YNc(8,U,17,8,"form",6),t.qZA()()()()),2&e){const o=t.oxw();t.xp6(7),t.Oqu(o.errorMsg),t.xp6(1),t.Q6J("ngIf","Varify"==o.formType)}}function M(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1,"OTP is required."),t.qZA())}function O(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," OTP must be a 6-digit number. "),t.qZA())}function Q(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," OTP should contain only numbers. "),t.qZA())}function Y(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"form",7),t.NdJ("ngSubmit",function(){t.CHM(o);const s=t.oxw(2);return t.KtG(s.otpVarify())}),t.TgZ(1,"mat-form-field",8)(2,"mat-label"),t._uU(3,"OTP"),t.qZA(),t._UZ(4,"input",16),t.YNc(5,M,2,0,"mat-hint",11),t.YNc(6,O,2,0,"mat-hint",11),t.YNc(7,Q,2,0,"mat-hint",11),t.qZA(),t.TgZ(8,"button",13),t._uU(9,"Varify"),t.qZA()()}if(2&e){const o=t.oxw(2);let r,s,m;t.Q6J("formGroup",o.otpForm),t.xp6(5),t.Q6J("ngIf",(null==(r=o.otpForm.get("otp"))?null:r.hasError("required"))&&(null==(r=o.otpForm.get("otp"))?null:r.touched)),t.xp6(1),t.Q6J("ngIf",null==(s=o.otpForm.get("otp"))?null:s.hasError("pattern")),t.xp6(1),t.Q6J("ngIf",null==(m=o.otpForm.get("otp"))?null:m.hasError("pattern")),t.xp6(1),t.Q6J("disabled",!o.otpForm.valid)}}function P(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"div",1)(2,"div",4)(3,"h3"),t._uU(4,"OTP Varification"),t.qZA(),t.TgZ(5,"div",5)(6,"h2"),t._uU(7),t.qZA(),t.YNc(8,Y,10,5,"form",6),t.qZA()()()()),2&e){const o=t.oxw();t.xp6(7),t.Oqu(o.errorMsg),t.xp6(1),t.Q6J("ngIf","Otp"==o.formType)}}function w(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1,"Username is required."),t.qZA())}function E(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," Username must be at least 3 characters long. "),t.qZA())}function R(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," Username can't be more than 20 characters long. "),t.qZA())}function V(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," Only alphanumeric characters and underscore are allowed. "),t.qZA())}function z(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1,"Password is required."),t.qZA())}function G(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," Password must be at least 6 characters long. "),t.qZA())}function L(e,n){1&e&&(t.TgZ(0,"mat-hint",15),t._uU(1," Password can't be more than 30 characters long. "),t.qZA())}function k(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",3)(1,"div",1)(2,"div",4)(3,"h3"),t._uU(4,"Student Username or Password Reset"),t.qZA(),t.TgZ(5,"div",5)(6,"h2"),t._uU(7),t.qZA(),t.TgZ(8,"form",7),t.NdJ("ngSubmit",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.usernamePasswordReset())}),t.TgZ(9,"mat-form-field",8)(10,"mat-label"),t._uU(11,"Username"),t.qZA(),t._UZ(12,"input",17),t.YNc(13,w,2,0,"mat-hint",11),t.YNc(14,E,2,0,"mat-hint",11),t.YNc(15,R,2,0,"mat-hint",11),t.YNc(16,V,2,0,"mat-hint",11),t.qZA(),t.TgZ(17,"mat-form-field",8)(18,"mat-label"),t._uU(19,"Reset Password"),t.qZA(),t._UZ(20,"input",18),t.YNc(21,z,2,0,"mat-hint",11),t.YNc(22,G,2,0,"mat-hint",11),t.YNc(23,L,2,0,"mat-hint",11),t.qZA(),t.TgZ(24,"button",13),t._uU(25,"Reset"),t.qZA()()()()()()}if(2&e){const o=t.oxw();let r,s,m,u,l,f,_;t.xp6(7),t.Oqu(o.errorMsg),t.xp6(1),t.Q6J("formGroup",o.resetForm),t.xp6(5),t.Q6J("ngIf",(null==(r=o.resetForm.get("email"))?null:r.hasError("required"))&&(null==(r=o.resetForm.get("email"))?null:r.touched)),t.xp6(1),t.Q6J("ngIf",null==(s=o.resetForm.get("email"))?null:s.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(m=o.resetForm.get("email"))?null:m.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",null==(u=o.resetForm.get("email"))?null:u.hasError("pattern")),t.xp6(5),t.Q6J("ngIf",(null==(l=o.resetForm.get("password"))?null:l.hasError("required"))&&(null==(l=o.resetForm.get("password"))?null:l.touched)),t.xp6(1),t.Q6J("ngIf",null==(f=o.resetForm.get("password"))?null:f.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(_=o.resetForm.get("password"))?null:_.hasError("maxlength")),t.xp6(1),t.Q6J("disabled",!o.resetForm.valid)}}function $(e,n){if(1&e&&(t.TgZ(0,"div",3)(1,"div",1)(2,"div",4)(3,"p",19),t._uU(4),t.qZA()()()()),2&e){const o=t.oxw();t.xp6(4),t.Oqu(o.successMsg)}}const j=[{path:"",component:(()=>{class e{constructor(o,r,s,m){this.fb=o,this.router=r,this.classService=s,this.studentAuthService=m,this.errorMsg="",this.successMsg="",this.formType="Varify",this.varifyForm=this.fb.group({rollNumber:["",[i.kI.required,i.kI.maxLength(8),i.kI.pattern("^[0-9]+$")]],class:["",[i.kI.required,i.kI.pattern(/^\d+$/)]]}),this.otpForm=this.fb.group({otp:["",[i.kI.required,i.kI.pattern(/^\d{6}$/),i.kI.pattern("^[0-9]+$")]],rollNumber:[""],class:[""]}),this.resetForm=this.fb.group({email:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(20),i.kI.pattern(/^[a-zA-Z0-9_]+$/)]],password:["",[i.kI.required,i.kI.minLength(6),i.kI.maxLength(30)]],otp:[""],rollNumber:[""],class:[""]})}ngOnInit(){this.getClass()}getClass(){this.classService.getClassList().subscribe(o=>{this.classInfo=o})}studentVarify(){this.varifyForm.valid&&this.studentAuthService.studentVarify(this.varifyForm.value).subscribe(o=>{o&&(this.errorMsg="",this.varifiedStudentInfo=o.varifiedStudentInfo,this.formType="Otp")},o=>{this.errorMsg=o.error})}otpVarify(){this.otpForm.value.class=this.varifiedStudentInfo.class,this.otpForm.value.rollNumber=this.varifiedStudentInfo.rollNumber,this.studentAuthService.otpVarify(this.otpForm.value).subscribe(o=>{o&&(this.errorMsg="",this.varifiedOtpInfo=o.varifiedOtpInfo,this.formType="Reset")},o=>{this.errorMsg=o.error})}usernamePasswordReset(){this.resetForm.value.class=this.varifiedOtpInfo.class,this.resetForm.value.rollNumber=this.varifiedOtpInfo.rollNumber,this.resetForm.value.otp=this.varifiedOtpInfo.otp,this.studentAuthService.usernamePasswordReset(this.resetForm.value).subscribe(o=>{o&&(this.errorMsg="",this.formType="ResetSuccsess","ResetSuccsess"==this.formType&&(this.successMsg=o))},o=>{this.errorMsg=o.error})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(d.F0),t.Y36(h.j),t.Y36(v.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-student-forgot"]],decls:7,vars:4,consts:[[1,"login"],[1,"row"],["class","col-12 col-lg-5 offset-lg-3 login-card",4,"ngIf"],[1,"col-12","col-lg-5","offset-lg-3","login-card"],[1,"col-12","col-lg-10","offset-lg-1"],[1,"col-12"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","class"],[4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["matInput","","type","number","formControlName","rollNumber"],["type","submit","mat-raised-button","",1,"submit-button",3,"disabled"],[3,"value"],[1,"form-text","text-danger"],["matInput","","type","number","formControlName","otp"],["matInput","","type","text","formControlName","email"],["matInput","","type","password","formControlName","password"],[1,"success-message"]],template:function(o,r){1&o&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0)(2,"div",1),t.YNc(3,J,9,2,"div",2),t.YNc(4,P,9,2,"div",2),t.YNc(5,k,26,10,"div",2),t.YNc(6,$,5,1,"div",2),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("ngIf","Varify"==r.formType),t.xp6(1),t.Q6J("ngIf","Otp"==r.formType),t.xp6(1),t.Q6J("ngIf","Reset"==r.formType),t.xp6(1),t.Q6J("ngIf","ResetSuccsess"==r.formType))},dependencies:[c.sg,c.O5,x.G,F.ey,Z.lW,g.KE,g.bx,g.hX,T.Nt,b.gD,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,S.N],styles:[".login[_ngcontent-%COMP%]{background-color:#fff;padding-top:10vh;padding-left:2%;padding-right:2%}.login-card[_ngcontent-%COMP%]{background-color:#fff;padding-top:5vh;padding-bottom:5vh;box-shadow:none}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}h3[_ngcontent-%COMP%]{color:#4e4caacd;padding-bottom:2vh;letter-spacing:.6px;font-size:18px;font-weight:500;margin-bottom:5px;text-align:center}h2[_ngcontent-%COMP%]{color:#e4409a;font-size:16px;letter-spacing:.5px}p[_ngcontent-%COMP%]{color:#4e4caac1;margin-top:2vh;letter-spacing:.25px;font-size:16px;margin-bottom:5px}a[_ngcontent-%COMP%]{color:#4e4caac1;font-size:16px;font-weight:500;letter-spacing:.25px;text-decoration:none}.success-message[_ngcontent-%COMP%]{color:#16b978;font-size:20px}@media (min-width:1200px){.login[_ngcontent-%COMP%]{min-height:90vh;padding-top:5vh;background-color:#64748d15;padding-left:2%;padding-right:2%}.login-card[_ngcontent-%COMP%]{margin-top:2vh;margin-left:30%;margin-bottom:10vh;border-radius:15px;border:1px solid rgba(218,218,224,.858)}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:48px;margin-bottom:15px}}"]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(j),d.Bz]}),e})();var K=a(11160);let H=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,B,K.S]}),e})()}}]);